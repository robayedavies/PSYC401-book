# Hypotheses and associations {#sec-associations}

```{r libraries-hide}
#| warning: false
#| echo: false
library(kableExtra)
library(patchwork)
library(tidyverse)
```

```{r readin-hide}
#| warning: false
#| echo: false
# -- code to read in the aggregated subject level data from the clearly-understood data set
# -- study one
study.one.gen <- read_csv("study-one-general-participants.csv", 
                                  col_types = cols(
                                    participant_ID = col_factor(),
                                    study = col_factor(),
                                    EDUCATION = col_factor(),
                                    GENDER = col_factor(),
                                    ETHNICITY = col_factor()
                                    )
                                   )

# -- study two
study.two.gen <- read_csv("study-two-general-participants.csv", 
                                  col_types = cols(
                                    participant_ID = col_factor(),
                                    study = col_factor(),
                                    EDUCATION = col_factor(),
                                    GENDER = col_factor(),
                                    ETHNICITY = col_factor()
                                    )
                                   )
```

## Overview {#sec-associations-overview}

Welcome to your overview of the work we will do together in **Week 6**.

This week, we focus on methods that allow us to make sense of the evidence for **associations**.

Looking ahead to your professional lives, our aim is to help you to build the understanding *and* to learn the skills that will ensure that you can practise, inspire and manage the most effective ways to make sense of associations.

We will work in the context of a live research project with potential real world impacts: the **Clearly understood** project.
Working in a concrete **context** will help you to make sense of what you are doing, even if you are interested in other topics.

::: callout-tip
The **Clearly understood** project aims to fix the problem that we are not sure how health information should be communicated so that everyone can understand it. 

We ask the research questions:

1.  What person attributes predict success in understanding?
2.  Can people accurately evaluate whether they correctly understand written health information?
:::

As we work together, we will be revisiting some of the ideas and techniques you have seen in previous classes, so that you can *consolidate* your learning.
Then, we will *extend* your development with some new ideas to strengthen your skills.

## Our learning goals {#sec-associations-goals}

This week, we develop your critical thinking and we strengthen your practical skills.

**1. Critical thinking**

-   *Concepts*: how we go from ideas and questions to hypotheses

**2. Practical skills**

-   *Concepts* -- associations: correlations, estimates and hypothesis tests
-   *Skills* -- visualizing covariation
-   *Skills* -- writing the code
-   *Skills* -- estimating correlations
-   *Skills* -- hypothesis tests for correlations
-   *Skills* -- interpreting and reporting correlations

## Learning resources {#sec-associations-resources}

You will see, next, the lectures we share to explain the concepts behind the critical thinking and analysis skills you will develop (@sec-associations-lectures), then you will see information about the practical materials you can use to practise your skills (@sec-associations-practical).

::: callout-tip
We think your learning best if you *first* watch the lectures *then* do the practical exercises.
:::

### Lectures {#sec-associations-lectures}

The lecture material for this week is presented in five short parts. 

Click on a link and your browser should open a tab showing the *Panopto* video for the lecture part.

1. Part 1 (12 minutes) **Overview**: The concepts and skills we will learn about in weeks 6-10, and why it helps to embed the classes in the context of a research project.

```{=html}
<iframe src="https://lancaster.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=768a9621-a440-4a1a-a3f8-b22200c1d4e2&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="PSYC411-associations-1" ></iframe>
```

2. Part 2 (18 minutes): Hypotheses, measurements and associations -- how you can think critically.

```{=html}
<iframe src="https://lancaster.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=9a10462c-e185-4069-b72a-af5000cc076a&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="PSYC411-associations-2" ></iframe>
```

3. Part 3 (14 minutes): The live research project we will use to put our practical skills exercises and critical thinking challenges into context.

```{=html}
<iframe src="https://lancaster.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=1653a285-fa5b-45c4-a850-af5000d1c8d5&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="PSYC411-associations-3" ></iframe>
```

4. Part 4 (20 minutes): Seeing, thinking and talking about associations, correlations.

```{=html}
<iframe src="https://lancaster.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=ca174423-d385-40d5-9068-af5000d60688&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="PSYC411-associations-4" ></iframe>
```

5. Part 5 (12 minutes): How we use R to estimate and test correlations. How we write about correlation results

```{=html}
<iframe src="https://lancaster.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=9d53628e-3133-43aa-b78f-af5000dc0d0b&autoplay=false&offerviewer=true&showtitle=true&showbrand=true&captions=false&interactivity=all" height="405" width="720" style="border: 1px solid #464646;" allowfullscreen allow="autoplay" aria-label="Panopto Embedded Video Player" aria-description="PSYC411-associations-5" ></iframe>
```

::: callout-tip
The slides presented in the videos can be downloaded here:

- [The slides](files/411-hypotheses-assocations.html) exactly as presented (22 MB). 

You can download the web page `.html` file and click on it to open it in any browser (e.g., Chrome, Edge or Safari). The slide images are high quality so the file is quite big and may take a few seconds to download.
:::

### Practical materials {#sec-associations-practical}

We are going to work through some practical exercises, next, to stimulate your thinking and learn the practical skills you need to see, test and talk about correlation analyses of the associations between variables.

We will work with two data files which you can download by clicking on their names (below):

-   [`study-one-general-participants.csv`](files/study-one-general-participants.csv).
-   [`study-two-general-participants.csv`](files/study-two-general-participants.csv).

Once you have downloaded the files, you will need to upload them to the R-Studio server to access and use the R files.

::: callout-tip
Here is a link to the sign-in page for [R-Studio Server](https://psy-rstudio.lancaster.ac.uk/auth-sign-in?appUri=%2F)
:::

#### Practical materials guide {#sec-associations-practical-guide}

You will find that the practical exercises are simpler to do if you follow these steps in order.

1. **The data** --- We will take a quick look at what is inside the data files so you know what everything means.
2. **The `how-to` guide** --- We will go through the practical analysis and visualization coding steps, showing all the code required for each step.
3. **The `practical` exercises** --- We will set out the tasks, questions and challenges that you should complete to learn the practical skills we target this week.

::: callout-tip
We show you how to do everything you need to do in the `practical` exercises in the `how-to` guide.

- Start by looking at the `how-to` guide to understand what steps you need to follow in the lab activity.

If you want to make it more challenging for yourself, go straight to Step 3.
:::

We will take things *step-by-step*.

We split exercises into parts, tasks and questions:  

- different parts for different phases of the analysis workflow;
- different tasks for different things you need to do;
- different questions to examine different ideas or coding challenges.

#### The data files {#sec-associations-practical-data}

Each of the data files we will work with has a similar structure.

Here are what the first few rows in the data file `study.two.gen` looks like:

```{r head}
#| warning: false
#| echo: false
kable(head(study.two.gen))
```

::: callout-tip
The webpage has a slider under the data table window, so you can scroll across the columns: move your cursor over the window to show the slider.
:::

When you look at the data table, you can see the columns:

-   `participant_ID` participant code
-   `mean.acc` average accuracy of response to questions testing understanding of health guidance
-   `mean.self` average self-rated accuracy of understanding of health guidance
-   `study` variable coding for what study the data were collected in
-   `AGE` age in years
-   `HLVA` health literacy test score
-   `SHIPLEY` vocabulary knowledge test score
-   `FACTOR3` reading strategy survey score
-   `GENDER` gender code
-   `EDUCATION` education level code
-   `ETHNICITY` ethnicity (Office National Statistics categories) code

#### The how-to guide {#sec-associations-practical-how-to}

The code in the `how-to` guide was written to work with the data file:

- `study-one-general-participants.csv`.

::: callout-tip
We show you how to do everything you need to do in the lab activity (@sec-wk16-lab-activities-2, next) in the `how-to` guide.

- Start by looking at the `how-to` guide to understand what steps you need to follow in the lab activity.
:::

We will take things *step-by-step*.

We split .Rmd scripts by steps, tasks and questions:  

- different steps for different phases of the analysis workflow;
- different tasks for different things you need to do;
- different questions to examine different ideas or coding challenges

::: callout-tip
- Make sure you start at the top of the `.Rmd` file and work your way, in order, through each task.
- Complete each task before you move on to the next task.
:::

In the activity @sec-wk16-lab-activities-2, we are going to work through the following tasks.

**Step 1: Set-up**

1. Empty the R environment -- using `rm(list=ls())`
2. Load relevant libraries -- using `library()`

**Step 2: Load the data**

3. Read in the data file -- using `read_csv()`
4. Inspect the data -- using `head()` and `summary()`
5. Change the type classification of a variable in the data -- using `as.factor()`

**Step 3: Use histograms to examine the distributions of variables**

6. Draw histograms to examine the distributions of variables -- using `ggplot()` and `geom_histogram()`

**Step 4: Edit your plots to make them look good**

7. Edit the appearance of one histogram plot step-by-step

**Step 5: Now draw scatterplots to examine associations between variables**

8. Draw scatterplots to examine the associations between some variables -- using `ggplot()` and `geom_point()`
9. Draw scatterplots to examine different variables

**Step 6: Edit the scatterplots to make them look good**

10. Edit the appearance of a plot step-by-step

**Step 7: Use correlation to to answer the research questions**

11. Examine associations between variables using correlation.

::: callout-tip
If you are unsure about what you need to do, look at the advice in `2023-24-PSYC122-w16-how-to.Rmd` on how to do the tasks, with examples on how to write the code.
:::

You will see that you can match a task in the activity @sec-wk16-lab-activities-2 to the same task in the `how-to` guide.
The `how-to` shows you what function you need and how you should write the function code.

This process of adapting demonstration code is a process critical to data literacy and to effective problem solving in modern psychological science.







### The workbook {#sec-associations-practical-workbook}

In the `workbook`:

-   `401-associations-workbook.R`

you will work with the data file

-   `study-two-general-participants.csv`

We split .R scripts into parts, tasks and questions:

-   different parts for different phases of the analysis workflow;
-   different tasks for different steps in each phase;
-   different questions to examine different ideas or coding steps.

In the week 7 workbook, we are going to work through the following workflow steps:

1.  Empty the R environment -- using `rm(list=ls())`
2.  Load relevant libraries -- using `library()`
3.  Read in the data file -- using `read_csv()`
4.  Inspect the data -- using `head()` and `summary()`
5.  Change the type classification of a variable in the data -- using `as.factor()`
6.  Draw histograms to examine the distributions of variables -- using `ggplot()` and `geom_histogram()`
7.  Draw scatterplots to examine the association between pairs of variables -- using `ggplot()` and `geom_point()`
8.  Estimate and test the correlations between pairs of variables -- using `cor.test()`

The activity `401-associations-workbook.R` file takes you through the tasks, one by one.

If you are unsure about what you need to do, check the advice in `401-associations-how-to.R`.

You will see that you can match a task in the `activity` to the same task in the `how-to`. The `how-to` shows you what function you need and how you should write the function code. You will need to change the names of the data-set or the variables to complete the tasks in the activity.

This process of adapting demonstration code is a process critical to data literacy and to effective problem solving in working with data in psychological science.






### The answers

After the practical class, you will be able to download the answers version of the `workbook` here.

<!-- [401-associations-workbook-answers.R](files/401-associations-workbook-answers.R) -->

The answers version will present my answers for questions, and some extra information where that is helpful.


### Look ahead: growing in independence

-   Every problem you ever have: someone has had it before, solved it, and written a blog (or tweet or toot) about it

### Look ahead: the revolution in knowledge and you

-   R is *free open statistical software*: everything you use is contributed, discussed and taught by a community of R users online, in open forums
-   Learning to navigate this knowledge is an introduction to the future of knowledge sharing
